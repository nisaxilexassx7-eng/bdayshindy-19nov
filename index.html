<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kejutan untuk Shindy üéÅ</title>
<style>
  body {
    margin: 0;
    padding: 0;
    font-family: 'Poppins', sans-serif;
    overflow: hidden;
    background-color: #fff;
  }

  /* ---------- HALAMAN INPUT NAMA ---------- */
  .page {
    display: none;
    width: 100%;
    height: 100vh;
    justify-content: center;
    align-items: center;
    flex-direction: column;
  }

  #intro {
    display: flex;
    background: linear-gradient(135deg, #ffe6f2, #d7ecff);
  }

  h1 {
    color: #444;
    font-size: 28px;
  }

  input {
    padding: 10px;
    font-size: 16px;
    border: 2px solid #ccc;
    border-radius: 10px;
    width: 250px;
    text-align: center;
  }

  button {
    margin-top: 15px;
    padding: 10px 25px;
    font-size: 16px;
    background-color: #ff99cc;
    color: white;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    transition: 0.3s;
  }

  button:hover {
    background-color: #ff66aa;
  }

  .error {
    margin-top: 10px;
    color: red;
  }

  /* ---------- HALAMAN GIFT BOX ---------- */
  #giftPage {
    background: radial-gradient(circle at top, #fff0f5, #ffe4b5);
    position: relative;
  }

  .gift-box {
    position: absolute;
    width: 100px;
    height: 100px;
    background-image: url('giftImg.png');
    background-size: cover;
    background-position: center;
    cursor: pointer;
    transition: transform 0.4s ease, opacity 0.4s;
  }

  .opened {
    transform: scale(0);
    opacity: 0;
  }

  .mini-gift {
    position: absolute;
    width: 40px;
    height: 40px;
    background-image: url('giftImg.png');
    background-size: cover;
    background-position: center;
    opacity: 0;
    animation: pop 0.6s forwards;
  }

  @keyframes pop {
    0% { transform: scale(0.3) rotate(0deg); opacity: 0; }
    50% { transform: scale(1.2) rotate(10deg); opacity: 1; }
    100% { transform: scale(1) rotate(0deg); opacity: 1; }
  }

  #message {
    position: absolute;
    bottom: 20px;
    width: 100%;
    text-align: center;
    font-size: 22px;
    color: #444;
    font-weight: bold;
  }

  /* ---------- HALAMAN AKHIR ---------- */
  #finalPage {
    background: linear-gradient(135deg, #ffccf9, #d5f3fe);
    flex-direction: column;
    text-align: center;
    justify-content: center;
  }

  /* FEED STYLE - FOTO PANJANG (4:5) */
  .photo-frame {
    position: relative;
    width: 90vw;
    max-width: 400px;
    aspect-ratio: 4 / 5; /* panjang seperti feed IG */
    overflow: hidden;
    border-radius: 25px;
    box-shadow: 0 8px 25px rgba(0,0,0,0.15);
    background-color: #fff;
  }

  .photo-frame img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: none;
  }

  .photo-frame img.active {
    display: block;
    animation: fade 0.8s ease;
  }

  @keyframes fade {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  h2 {
    margin-top: 25px;
    color: #444;
    max-width: 80%;
  }

</style>
</head>
<body>

<audio id="bgAudio" src="bday.mp3" loop></audio>

<!-- ---------- HALAMAN INPUT NAMA ---------- -->
<div class="page" id="intro">
  <h1>Recipient's name üéÄ</h1>
  <input type="text" id="nameInput" placeholder="your name..." />
  <button onclick="checkName()">Lanjut</button>
  <div id="error" class="error"></div>
</div>

<!-- ---------- HALAMAN GIFT BOX ---------- -->
<div class="page" id="giftPage">
  <div id="container"></div>
  <div id="message">Click all gift box üéÅ (20 total)</div>
</div>

<!-- ---------- HALAMAN AKHIR ---------- -->
<div class="page" id="finalPage">
  <div class="photo-frame">
    <img src="bdshin11.jpg" class="active">
    <img src="bdshin22.jpg">
    <img src="bdshin3.jpg">
    <img src="bdshin4.jpg">
  </div>
  <h2>Hppy your day, shin!üíñ Semoga hari ini penuh kebahagiaan!</h2>
</div>

<script>
  // ---------- HALAMAN INPUT ----------
  const intro = document.getElementById("intro");
  const giftPage = document.getElementById("giftPage");
  const finalPage = document.getElementById("finalPage");
  const bgAudio = document.getElementById("bgAudio");

  intro.style.display = "flex";

  function checkName() {
    const name = document.getElementById("nameInput").value.trim().toLowerCase();
    const error = document.getElementById("error");
    if (name === "shindy olivia") {
      intro.style.display = "none";
      startGifts();
      giftPage.style.display = "flex";
      bgAudio.play().catch(()=>{});
    } else {
      error.textContent = "name not recognized, try again";
    }
  }

  // ---------- HALAMAN GIFT ----------
  function startGifts() {
    const container = document.getElementById("container");
    container.innerHTML = "";
    const totalGifts = 20;
    let clicked = 0;

    for (let i = 0; i < totalGifts; i++) {
      const gift = document.createElement("div");
      gift.classList.add("gift-box");

      gift.style.top = (Math.random() * (window.innerHeight - 150)) + "px";
      gift.style.left = (Math.random() * (window.innerWidth - 150)) + "px";
      gift.style.filter = `hue-rotate(${Math.random() * 360}deg)`;

      container.appendChild(gift);

      gift.addEventListener("click", () => {
        if (gift.classList.contains("opened")) return;
        clicked++;
        gift.classList.add("opened");

        for (let j = 0; j < 3; j++) {
          const mini = document.createElement("div");
          mini.classList.add("mini-gift");
          mini.style.top = parseFloat(gift.style.top) + (Math.random() * 60 - 30) + "px";
          mini.style.left = parseFloat(gift.style.left) + (Math.random() * 60 - 30) + "px";
          mini.style.filter = `hue-rotate(${Math.random() * 360}deg)`;
          container.appendChild(mini);
          setTimeout(() => mini.remove(), 1500);
        }

        const message = document.getElementById("message");
        if (clicked === totalGifts) {
          message.textContent = "üéâ The gift box is all opened! üéÇ";
          setTimeout(() => {
            giftPage.style.display = "none";
            showFinal();
          }, 2000);
        } else {
          message.textContent = ` ${totalGifts - clicked} gift box left üéÅ`;
        }
      });
    }
  }

  // ---------- HALAMAN AKHIR ----------
  function showFinal() {
    finalPage.style.display = "flex";

    const images = document.querySelectorAll(".photo-frame img");
    let current = 0;
    setInterval(() => {
      images[current].classList.remove("active");
      current = (current + 1) % images.length;
      images[current].classList.add("active");
    }, 1500);
  }
</script>
</body>
</html>
